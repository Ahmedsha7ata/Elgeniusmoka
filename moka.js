(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(jQuery)}}(function(d){d.timeago=function(h){if(h instanceof Date){return a(h)}else{if(typeof h==="string"){return a(d.timeago.parse(h))}else{if(typeof h==="number"){return a(new Date(h))}else{return a(d.timeago.datetime(h))}}}};var g=d.timeago;d.extend(d.timeago,{settings:{refreshMillis:60000,allowPast:true,allowFuture:false,localeTitle:false,cutoff:0,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"تقريبا",suffixFromNow:"من الآن",inPast:"any moment now",seconds:"منذ أقل من دقيقة",minute:"منذ دقيقة",minutes:"منذ %d دقيقه",hour:"منذ ساعه",hours:"منذ %d ساعة",day:"منذ يوم",days:"منذ %d يوم",month:"منذ  شهر",months:"منذ %d أشهر",year:"منذ سنة",years:"منذ %d سنه",wordSeparator:" ",numbers:[]}},inWords:function(o){if(!this.settings.allowPast&&!this.settings.allowFuture){throw"timeago allowPast and allowFuture settings can not both be set to false."}var p=this.settings.strings;var l=p.prefixAgo;var t=p.suffixAgo;if(this.settings.allowFuture){if(o<0){l=p.prefixFromNow;t=p.suffixFromNow}}if(!this.settings.allowPast&&o>=0){return this.settings.strings.inPast}var r=Math.abs(o)/1000;var h=r/60;var q=h/60;var s=q/24;var m=s/365;function k(u,x){var v=d.isFunction(u)?u(x,o):u;var y=(p.numbers&&p.numbers[x])||x;return v.replace(/%d/i,y)}var n=r<45&&k(p.seconds,Math.round(r))||r<90&&k(p.minute,1)||h<45&&k(p.minutes,Math.round(h))||h<90&&k(p.hour,1)||q<24&&k(p.hours,Math.round(q))||q<42&&k(p.day,1)||s<30&&k(p.days,Math.round(s))||s<45&&k(p.month,1)||s<365&&k(p.months,Math.round(s/30))||m<1.5&&k(p.year,1)||k(p.years,Math.round(m));var j=p.wordSeparator||"";if(p.wordSeparator===undefined){j=" "}return d.trim([l,n,t].join(j))},parse:function(j){var h=d.trim(j);h=h.replace(/\.\d+/,"");h=h.replace(/-/,"/").replace(/-/,"/");h=h.replace(/T/," ").replace(/Z/," UTC");h=h.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2");h=h.replace(/([\+\-]\d\d)$/," $100");return new Date(h)},datetime:function(j){var h=g.isTime(j)?d(j).attr("datetime"):d(j).attr("title");return g.parse(h)},isTime:function(h){return d(h).get(0).tagName.toLowerCase()==="time"}});var e={init:function(){var j=d.proxy(c,this);j();var h=g.settings;if(h.refreshMillis>0){this._timeagoInterval=setInterval(j,h.refreshMillis)}},update:function(h){var j=g.parse(h);d(this).data("timeago",{datetime:j});if(g.settings.localeTitle){d(this).attr("title",j.toLocaleString())}c.apply(this)},updateFromDOM:function(){d(this).data("timeago",{datetime:g.parse(g.isTime(this)?d(this).attr("datetime"):d(this).attr("title"))});c.apply(this)},dispose:function(){if(this._timeagoInterval){window.clearInterval(this._timeagoInterval);this._timeagoInterval=null}}};d.fn.timeago=function(k,h){var j=k?e[k]:e.init;if(!j){throw new Error("Unknown function name '"+k+"' for timeago")}this.each(function(){j.call(this,h)});return this};function c(){var j=b(this);var h=g.settings;if(!isNaN(j.datetime)){if(h.cutoff==0||Math.abs(f(j.datetime))<h.cutoff){d(this).text(a(j.datetime))}}return this}function b(h){h=d(h);if(!h.data("timeago")){h.data("timeago",{datetime:g.datetime(h)});var j=d.trim(h.text());if(g.settings.localeTitle){h.attr("title",h.data("timeago").datetime.toLocaleString())}else{if(j.length>0&&!(g.isTime(h)&&h.attr("title"))){h.attr("title",j)}}}return h.data("timeago")}function a(h){return g.inWords(f(h))}function f(h){return(new Date().getTime()-h.getTime())}document.createElement("abbr");document.createElement("time")}));
